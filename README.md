# Image_Analysis

This is a django app to perform image analysis on XIM files generated by Varian TrueBeam's MPC. 
The user uploads a BeamProfileCheck.xim file to the web-interface and is redirected to a web-page detailing the profile's symmetry and flatness as calibrated to measurements acquired from a water phantom. The calibration data was collected on 1st April 2021. The software maps dose measurements recorded by the water phantom onto corresponding pixel values from the EPID image in order to create a calibration. This calibration is applied to newly uploaded images. The plots displayed show the profiles after calibration has been applied. 

Symmetry is calculated as the maximum absolute difference between symmetric pairs in the central 80% of the field. 
Flatness is calculated as the ratio of the maximum to minimum dose within the central 80% of the field multiplied by 100. 
The beam centre shift is calcualted as the difference in position between the centre of the field of the newly uploaded image and the calibration image taken on 1st April 2021.


Instructions for use:

git clone this repository into a local folder

Open a command terminal and cd into the local folder

activate the virtual environment with the command
env\Scripts\activate

run the server with the command
python manage.py runserver

In the web browser, navigate to the local host, http://127.0.0.1:8000/ and upload the corresponding image and click submit.

Alternatively, navigate to
localhost/6x,
localhost/10x, or
localhost/10fff 
for the corresponding beam energy as required

Upload the beam profile check XIM file and you will be redirected to the results.
The programme will apply the calibration, display plots and calculate symmetry, flatness and beam centre shift.

Author: Nicola Compton
Date: 27/07/2021
Contact: nicola.compton@ulh.nhs.uk
